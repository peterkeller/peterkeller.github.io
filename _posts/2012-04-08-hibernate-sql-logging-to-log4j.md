---
layout: post
title: Hibernate SQL Logging to Log4j
date: '2012-04-08T10:56:00.000+02:00'
author: Peter Keller
tags:
- orm
modified_time: '2013-06-18T21:56:58.131+02:00'
blogger_id: tag:blogger.com,1999:blog-7980432895360710298.post-514962415424190405
blogger_orig_url: http://peter-on-java.blogspot.com/2012/04/hibernate-sql-logging-to-log4j.html
---

In my projects, for logging the SQL statements generated by 
<a href="http://www.hibernate.org/">Hibernate</a> I always set the 
`hibernate.sql_show` property to `true` in the `hibernate.cfg.xml` file:
    
{% highlight xml %} 
<property name="hibernate.sql_show">true</property>
{% endhighlight %}

This logs the SQL statements to the STDOUT console. Only recently I realized that the 
logs can also be sent to <a href="http://logging.apache.org/log4j/">Log4j</a>. Of 
course this allows to log the SQL statements not only to the STDOUT but also to all 
possible Log4j appenders such as a file appender etc.. There are (at least) two ways 
to do this. 
    
1) Setting the log level statically in the `log4j.properties` configuration file, e.g.: 

{% highlight xml %}
log4j.logger.org.hibernate.SQL=DEBUG, FILE_APPENDER
log4j.additivity.org.hibernate.SQL=false
{% endhighlight %}

Setting `additivity` to `false` ensures that log messages aren\'t bubbled up to parent handlers. 
    
2) Or setting the log level dynamically in Java, e.g.: 
{% highlight java %}
import org.apache.log4j.Logger;
import org.apache.log4j.Level;    
...
Logger log = Logger.getLogger("org.hibernate.SQL");    
log.setLevel(Level.DEBUG);
{% endhighlight %}

